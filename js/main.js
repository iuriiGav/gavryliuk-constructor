!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=jQuery},function(e,t,n){e.exports=n(4)},,,function(e,t,n){"use strict";n.r(t);var o,r=n(0),i=(window.innerWidth,window.innerWidth,function(e){e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",d)}),a=function(e){e.addEventListener("focusin",u),e.addEventListener("focusout",g)},c=function(e,t){var n=document.querySelectorAll('[data-js-trigger="btn-dropdown-indicator"]').item(0),o=document.querySelectorAll('[data-js-trigger="'.concat(e,'-dropdown-container"]')).item(0);null!=n&&(window.innerWidth>=992?i(o):a(o),function(e,t){window.addEventListener("resize",(function(){window.innerWidth<=t?(e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",d),a(e)):(e.removeEventListener("focusin",u),e.removeEventListener("focusout",g),i(e))}))}(o,t))},l=document.querySelectorAll('[data-js-trigger="btn-dropdown-indicator"]').item(0),s=function(){console.log(l),l.classList.add("ig-dropdown-arrow-icon__open")},d=function(){l.classList.remove("ig-dropdown-arrow-icon__open")},u=function(){l.classList.contains("ig-dropdown-arrow-icon__open")||l.classList.add("ig-dropdown-arrow-icon__open")},g=function(){l.classList.contains("ig-dropdown-arrow-icon__open")&&l.classList.remove("ig-dropdown-arrow-icon__open")},m=function(e){var t=document.querySelectorAll('[data-js-trigger="'.concat(e,'-dropdown-container"]')).item(0),n=document.querySelectorAll('[data-js-trigger="'.concat(e,'-dropdown-toggler"]')).item(0);null!=t&&t.setAttribute("aria-haspopup","true"),null!=n&&n.addEventListener("click",(function(e){e.preventDefault()}))},f=function(e,t){var n=document.querySelectorAll('[data-js-trigger="btn-hamburger-general"]').item(0);console.log(n);var o=document.querySelectorAll('[data-js-trigger="overlay"]').item(0);null!=n&&n.addEventListener("click",(function(){if(n.classList.toggle("btn-hamburger__general--active"),void 0!==o){o.classList.toggle("overlay__".concat(t).concat("oftsc"===e?"--on-breakpoint":"","--open"));var r=document.querySelectorAll('[data-js-trigger="'.concat(e,'-nav__container"]')).item(0);r.classList.contains("ig-oYa")?r.classList.remove("ig-oYa"):setTimeout((function(){r.classList.add("ig-oYa")}),300)}}))},v=function(){var e=document.querySelectorAll('[data-js-trigger="btn-hamburger-general"]').item(0),t=document.querySelectorAll('[data-js-trigger="overlay"]').item(0);if(null!=e){e.addEventListener("keyup",(function(n){13!=n.keyCode&&32!=n.keyCode||(e.classList.contains("btn-hamburger__general--active")?(e.classList.remove("btn-hamburger__general--active"),t.classList.remove("overlay__sliding-from-two-sides--open")):(e.classList.add("btn-hamburger__general--active"),t.classList.add("overlay__sliding-from-two-sides--open")))}))}};r(".ig-dropdown-arrow-icon").length>0&&r(".ig-dropdown-arrow-icon").on("click",(function(e){e.preventDefault(),r(this).toggleClass("ig-dropdown-arrow-icon__open")})),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelectorAll('[data-js-trigger="btn-hamburger-arrow-and-ring"]').item(0),n=document.getElementsByTagName("body").item(0);null!=t&&t.addEventListener("click",(function(){n.classList.toggle("btn-arrow-and-ring--active"),!1!==e&&n.classList.toggle(e)}))}("ig-fspnc-nav-is-open"),function(e,t,n){void 0!==document.querySelectorAll('[data-js-trigger="'.concat(e,'-dropdown-container"]')).item(0)&&m(e),f(e,n),v();var o=document.querySelectorAll('[data-js-trigger="btn-dropdown-indicator"]').item(0);null!=o&&c(e,t)}("ofts",767,"sliding-from-top-to-bottom"),null!=(o=document.querySelectorAll('[data-js-trigger="btn-hamburger-middle-sliding-off"]').item(0))&&o.addEventListener("click",(function(){this.classList.contains("btn-hamburger-middle-sliding-off--active")?this.classList.remove("btn-hamburger-middle-sliding-off--active"):this.classList.add("btn-hamburger-middle-sliding-off--active")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vLy4vd3AtaWctY29tcG9uZW50cy9qcy9nbG9iYWwvYnV0dG9ucy9idG4taGFtYnVyZ2VyX19taWRkbGUtcGF0dHktc2xpZGluZy1vZmYuanMiLCJ3ZWJwYWNrOi8vLy4vd3AtaWctY29tcG9uZW50cy9qcy9nbG9iYWwvYnV0dG9ucy9kcm9wZG93bi1hcnJvdy1pY29uLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9jb21wb25lbnRzL3dlYi1jb25zdHJ1Y3Rvci9uYXZiYXJzL25hdmJhci1mcm9tLXR3by1zaWRlcy1mdWxsLXNjcmVlbi9uYXZiYXItZnJvbS10d28tc2lkZXMtZnVsbC1zY3JlZW4tY29sbGFwc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvd2ViLWNvbnN0cnVjdG9yL25hdmJhcnMvbmF2YmFyLW92ZXJsYXktZnJvbS10b3AtdG8tYm90dG9tL25hdmJhci1vdmVybGF5LWZyb20tdG9wLXRvLWJvdHRvbS1jb2xsYXBzZS5qcyIsIndlYnBhY2s6Ly8vLi93cC1pZy1jb21wb25lbnRzL2pzL25hdmJhcnMvbmF2LXYyLW9mdHMvb2Z0cy1hbGwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbXBvbmVudHMvYnV0dG9ucy9jb21wb25lbnQtYW5pbWF0ZWQtYXJyb3ctZHJvcGRvd24vY29tcG9uZW50LWFuaW1hdGVkLWFycm93LWRyb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3dwLWlnLWNvbXBvbmVudHMvanMvZ2xvYmFsL2J1dHRvbnMvYnRuLWhhbWJ1cmdlcl9fYXJyb3ctYW5kLXJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJqUXVlcnkiLCJidXR0b25IYW1idXJnZXJNaWRkbGVQYXR0eU9mZlNjcmVlbiIsImFuaW1hdGVBcnJvd09uSG92ZXIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaG92ZXJUYXJnZXQiLCJhZGRFdmVudExpc3RlbmVyIiwib25Nb3VzZUVudGVySGFuZGxlciIsIm9uTW91c2VMZWF2ZUhhbmRsZXIiLCJhbmltYXRlQXJyb3dPbkZvY3VzIiwiZm9jdXNUYXJnZXQiLCJvbkZvY3VzSW5IYW5kbGVyIiwib25Gb2N1c091dEhhbmRsZXIiLCJhbmltYXRlQXJyb3dJbkRyb3Bkb2VuSXRlbSIsIm5hdk5hbWUiLCJicmVha3BvaW50IiwiYnRuRHJvcGRvd25JbmRpY2F0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpdGVtIiwiRFJPUERPV05fTUVOVV9DT05UQUlORVIiLCJ0YXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3dhcEZvY3VzSG92ZXJPblJlc2l6ZSIsIkJUTl9EUk9QRE9XTl9JTkRJQ0FUT1IiLCJjb25zb2xlIiwibG9nIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiY29udGFpbnMiLCJwcmV2ZW50RGVmYXVsdE9uRHJvcGRvd24iLCJkcm9wZG93blRvZ2dsZXIiLCJzZXRBdHRyaWJ1dGUiLCJlIiwicHJldmVudERlZmF1bHQiLCJhbmltYXRlSGFtYnVyZ2VyQnRuQW5kT3ZlcmxheSIsIm92ZXJsYXlOYW1lIiwiYnRuSGFtYnVyZ2VyR2VuZXJhbCIsIm92ZXJsYXkiLCJ0b2dnbGUiLCJ1bmRlZmluZWQiLCJzZXRUaW1lb3V0IiwibWFrZU9GVFNOYXZiYXJBY2Nlc3NpYmxlIiwiZXZlbnQiLCJrZXlDb2RlIiwiJCIsImxlbmd0aCIsIm9uIiwidGhpcyIsInRvZ2dsZUNsYXNzIiwib3Blbk5hdiIsImJ0biIsImJvZHkiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFuaW1hdGVIYW1idXJnZXJCdG5BcnJvd0FuZFJpbmciLCJyZWdpc3Rlck9GVFNOYXZiYXJGdW5jdGlvbnMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FB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LENBQWdDLHdCSFZXLFNBQUN6QyxFQUFTQyxFQUFZc0IsUUFLL0JJLElBSkF4QixTQUM3QkMsaUJBRDZCLDRCQUNTSixFQURULDBCQUU3QkssS0FBSyxJQUdOWSxFQUF5QmpCLEdBRzNCc0IsRUFBOEJ0QixFQUFTdUIsR0FDdkNNLElBQ0EsSUFBTTNCLEVBQXVCQyxTQUFTQyxpQkFBVCw4Q0FBd0VDLEtBQUssR0FDdEdILFNBRUZILEVBQTJCQyxFQUFTQyxHR0t4Q3lDLENBQTRCLE9BQVEsSUFBSyw4QlBoQnRDdkQsT0FKR0EsRUFBc0NnQixTQUN2Q0MsaUJBRHVDLHdEQUV2Q0MsS0FBSyxLQUlSbEIsRUFBb0NLLGlCQUFpQixTQUFTLFdBQ3hEMkMsS0FBS3RCLFVBQVVHLFNBQVMsNENBQzFCbUIsS0FBS3RCLFVBQVVFLE9BQU8sNENBRXRCb0IsS0FBS3RCLFVBQVVDLElBQUkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIm1vZHVsZS5leHBvcnRzID0galF1ZXJ5OyIsImV4cG9ydCBjb25zdCByZWdpc3RlckJ1dHRvbkhhbWJ1cmdlck1pZGRsZVBhdHR5U2xpZGluZ09mZiA9ICgpID0+IHtcbiAgdmFyIGJ1dHRvbkhhbWJ1cmdlck1pZGRsZVBhdHR5T2ZmU2NyZWVuID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cImJ0bi1oYW1idXJnZXItbWlkZGxlLXNsaWRpbmctb2ZmXCJdYClcbiAgICAuaXRlbSgwKTtcbiBcbmlmKGJ1dHRvbkhhbWJ1cmdlck1pZGRsZVBhdHR5T2ZmU2NyZWVuICE9PSB1bmRlZmluZWQgJiYgYnV0dG9uSGFtYnVyZ2VyTWlkZGxlUGF0dHlPZmZTY3JlZW4gIT09IG51bGwpIHtcblxuICBidXR0b25IYW1idXJnZXJNaWRkbGVQYXR0eU9mZlNjcmVlbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcImJ0bi1oYW1idXJnZXItbWlkZGxlLXNsaWRpbmctb2ZmLS1hY3RpdmVcIikpIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcImJ0bi1oYW1idXJnZXItbWlkZGxlLXNsaWRpbmctb2ZmLS1hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZChcImJ0bi1oYW1idXJnZXItbWlkZGxlLXNsaWRpbmctb2ZmLS1hY3RpdmVcIik7XG4gICAgfVxuICB9KTtcblxufVxuXG5cbn07XG4iLCJleHBvcnQgY29uc3QgYW5pbWF0ZUFycm93T25Ib3ZlciA9IChob3ZlclRhcmdldCkgPT4ge1xuICBob3ZlclRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBvbk1vdXNlRW50ZXJIYW5kbGVyKTtcbiAgaG92ZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgb25Nb3VzZUxlYXZlSGFuZGxlcik7XG59O1xuXG5leHBvcnQgY29uc3QgYW5pbWF0ZUFycm93T25Gb2N1cyA9IChmb2N1c1RhcmdldCkgPT4ge1xuICBmb2N1c1RhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNpblwiLCBvbkZvY3VzSW5IYW5kbGVyKTtcbiAgZm9jdXNUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIG9uRm9jdXNPdXRIYW5kbGVyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzd2FwRm9jdXNIb3Zlck9uUmVzaXplID0gKHRhcmdldCwgYnJlYWtwb2ludCkgPT4ge1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gYnJlYWtwb2ludCkge1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIG9uTW91c2VFbnRlckhhbmRsZXIpO1xuICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIG9uTW91c2VMZWF2ZUhhbmRsZXIpO1xuICAgICAgYW5pbWF0ZUFycm93T25Gb2N1cyh0YXJnZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgb25Gb2N1c0luSGFuZGxlcik7XG4gICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIG9uRm9jdXNPdXRIYW5kbGVyKTtcbiAgICAgIGFuaW1hdGVBcnJvd09uSG92ZXIodGFyZ2V0KTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cblxuZXhwb3J0IGNvbnN0IGFuaW1hdGVBcnJvd0luRHJvcGRvZW5JdGVtID0gKG5hdk5hbWUsIGJyZWFrcG9pbnQpID0+IHtcbiAgY29uc3QgYnRuRHJvcGRvd25JbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1qcy10cmlnZ2VyPVwiYnRuLWRyb3Bkb3duLWluZGljYXRvclwiXWApLml0ZW0oMCk7XG4gIGNvbnN0IERST1BET1dOX01FTlVfQ09OVEFJTkVSID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cIiR7bmF2TmFtZX0tZHJvcGRvd24tY29udGFpbmVyXCJdYClcbiAgICAuaXRlbSgwKTtcblxuICBpZiAoYnRuRHJvcGRvd25JbmRpY2F0b3IgIT09IHVuZGVmaW5lZCAmJiBidG5Ecm9wZG93bkluZGljYXRvciAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblxuICAgIGlmICh2aWV3cG9ydFdpZHRoID49IDk5Mikge1xuICAgICAgYW5pbWF0ZUFycm93T25Ib3ZlcihEUk9QRE9XTl9NRU5VX0NPTlRBSU5FUik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuaW1hdGVBcnJvd09uRm9jdXMoRFJPUERPV05fTUVOVV9DT05UQUlORVIpO1xuICAgIH1cblxuICAgIHN3YXBGb2N1c0hvdmVyT25SZXNpemUoRFJPUERPV05fTUVOVV9DT05UQUlORVIsIGJyZWFrcG9pbnQpO1xuICB9XG59O1xuXG5jb25zdCBCVE5fRFJPUERPV05fSU5ESUNBVE9SID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cImJ0bi1kcm9wZG93bi1pbmRpY2F0b3JcIl1gKS5pdGVtKDApO1xuXG5jb25zdCBvbk1vdXNlRW50ZXJIYW5kbGVyID0gKCkgPT4ge1xuICBjb25zb2xlLmxvZyhCVE5fRFJPUERPV05fSU5ESUNBVE9SKVxuICBCVE5fRFJPUERPV05fSU5ESUNBVE9SLmNsYXNzTGlzdC5hZGQoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpO1xufTtcbmNvbnN0IG9uTW91c2VMZWF2ZUhhbmRsZXIgPSAoKSA9PiB7XG4gIEJUTl9EUk9QRE9XTl9JTkRJQ0FUT1IuY2xhc3NMaXN0LnJlbW92ZShcImlnLWRyb3Bkb3duLWFycm93LWljb25fX29wZW5cIik7XG59O1xuXG5jb25zdCBvbkZvY3VzSW5IYW5kbGVyID0gKCkgPT4ge1xuICBpZiAoIUJUTl9EUk9QRE9XTl9JTkRJQ0FUT1IuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKSkge1xuICAgIEJUTl9EUk9QRE9XTl9JTkRJQ0FUT1IuY2xhc3NMaXN0LmFkZChcImlnLWRyb3Bkb3duLWFycm93LWljb25fX29wZW5cIik7XG4gIH1cbn07XG5cbmNvbnN0IG9uRm9jdXNPdXRIYW5kbGVyID0gKCkgPT4ge1xuICBpZiAoQlROX0RST1BET1dOX0lORElDQVRPUi5jbGFzc0xpc3QuY29udGFpbnMoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpKSB7XG4gICAgQlROX0RST1BET1dOX0lORElDQVRPUi5jbGFzc0xpc3QucmVtb3ZlKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKTtcbiAgfVxufTtcbiIsImltcG9ydCAqIGFzICQgZnJvbSBcImpxdWVyeVwiO1xuXG5jb25zdCBCUkVBS1BPSU5UX1dJRFRIID0gOTkyO1xubGV0IFZJRVdQT1JUX1dJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG5cbmV4cG9ydCBjb25zdCBuYXZiYXJGcm9tVHdvU2lkZXNGdWxsU2NyZWVuQ29sbGFwc2UgPSAoKSA9PiB7XG4gIGlmIChcbiAgICAkKFwiLmZ0c2MtbWVudS1pdGVtLWhhcy1jaGlsZHJlblwiKS5sZW5ndGggPiAwIHx8XG4gICAgJChcIi5pZy1mdHNjLWRyb3Bkb3duXCIpLmxlbmd0aCA+IDBcbiAgKSB7XG4gICAgcHJldmVudERlZmF1bHRPbkRyb3Bkb3duQnRuKCk7XG4gIH1cblxuICB0b2dnbGVOYXZPcGVuQ2xhc3MoKTtcblxuICBpZiAoJChcIi5pZy1kcm9wZG93bi1hcnJvdy1pY29uX19jb250YWluZXItLWpzXCIpLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoVklFV1BPUlRfV0lEVEggPj0gQlJFQUtQT0lOVF9XSURUSCkge1xuICAgICAgZHJvcGRvd25JY29uQmVoYXZpb3VyT25Ib3ZlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkcm9wZG93bkljb25CZWhhdmlvdXJPbkZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCQoXCIuaWctZnRzYy1kcm9wZG93bi1tZW51XCIpLmxlbmd0aCA+IDApIHtcbiAgICBzZXRXaWR0aE9mRHJvcGRvd25VTCgpO1xuICAgIGNoYW5nZURyb3Bkb3duQ2xhc3Nlc09uV2luZG93UmVzaXplKCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtYWtlTmF2YmFyVG9nZ2xlckFjY2Vzc2libGVmdHNjQ29sbGFwc2UgPSAoKSA9PiB7XG4gIGlmICgkKFwiI2Z0c2MtbmF2YmFyLXRvZ2dsZXItanNcIikubGVuZ3RoID4gMCkge1xuICAgIHZhciBtZW51VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmdHNjLW5hdmJhci10b2dnbGVyLWpzXCIpO1xuICAgIHZhciBlbnRlcktleUNvZGUgPSAxMztcbiAgICB2YXIgc3BhY2VLZXlDb2RlID0gMzI7XG5cbiAgICBtZW51VG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGVudGVyS2V5Q29kZSB8fCBldmVudC5rZXlDb2RlID09IHNwYWNlS2V5Q29kZSkge1xuICAgICAgICBpZiAoJChcIiNmdHNjLW5hdmJhci10b2dnbGVyLWpzXCIpLmhhc0NsYXNzKFwiaWctZnRzYy1uYXYtaXMtYWN0aXZlXCIpKSB7XG4gICAgICAgICAgJChcIiNmdHNjLW5hdmJhci10b2dnbGVyLWpzXCIpLnJlbW92ZUNsYXNzKFwiaWctZnRzYy1uYXYtaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICQoXCIjZnRzYy1tYWluLW5hdi1vdmVybGF5XCIpLnJlbW92ZUNsYXNzKFwiZnRzYy1uYXYtaXMtb3BlblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKFwiI2Z0c2MtbmF2YmFyLXRvZ2dsZXItanNcIikuYWRkQ2xhc3MoXCJpZy1mdHNjLW5hdi1pcy1hY3RpdmVcIik7XG4gICAgICAgICAgJChcIiNmdHNjLW1haW4tbmF2LW92ZXJsYXlcIikuYWRkQ2xhc3MoXCJmdHNjLW5hdi1pcy1vcGVuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIEZ1bmN0aW9uc1xuXG5jb25zdCBwcmV2ZW50RGVmYXVsdE9uRHJvcGRvd25CdG4gPSAoKSA9PiB7XG4gICQoXCIuZnRzYy1tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCIpLmF0dHIoXCJhcmlhLWhhc3BvcHVwXCIsIFwidHJ1ZVwiKTtcbiAgJChcIi5pZy1mdHNjLWRyb3Bkb3duLXRvZ2dsZVwiKS5vbihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZU5hdk9wZW5DbGFzcyA9ICgpID0+IHtcbiAgJChcIiNmdHNjLW5hdmJhci10b2dnbGVyLWpzXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJpZy1mdHNjLW5hdi1pcy1hY3RpdmVcIik7XG4gICAgJChcIiNmdHNjLW1haW4tbmF2LW92ZXJsYXlcIikudG9nZ2xlQ2xhc3MoXCJmdHNjLW5hdi1pcy1vcGVuXCIpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJChcIi5pZy1mdHNjLW1haW4tbmF2LW92ZXJsYXlcIikudG9nZ2xlQ2xhc3MoXCJvdmVyZmxvd1ktc2Nyb2xsXCIpO1xuICAgIH0sIDM1MCk7XG4gIH0pO1xufTtcblxuLy8gZHJvcGRvd24gaWNvbiBiZWhhdmlvdXJcblxuXG5cbmNvbnN0IGRyb3Bkb3duSWNvbkJlaGF2aW91ck9uSG92ZXIgPSAoKSA9PiB7XG5cbiBcblxuICAkKFwiLmlnLWZ0c2MtZHJvcGRvd25cIikub24oXCJtb3VzZWVudGVyXCIsIGFjdGlvbk9uTW91c2VJbilcbiAgJChcIi5pZy1mdHNjLWRyb3Bkb3duXCIpLm9uKFwibW91c2VsZWF2ZVwiLCBhY3Rpb25Pbk1vdXNlTGVhdmUpO1xufTtcblxuXG5cblxuY29uc3QgZHJvcGRvd25JY29uQmVoYXZpb3VyT25Gb2N1cyA9ICgpID0+IHtcblxuXG4gICQoXCIuaWctZnRzYy1kcm9wZG93blwiKS5vbihcImZvY3VzaW5cIiwgYWN0aW9uT25Gb2N1c0luKTtcbiAgJChcIi5pZy1mdHNjLWRyb3Bkb3duXCIpLm9uKFwiZm9jdXNvdXRcIiwgYWN0aW9uT25Gb2N1c091dCk7XG59O1xuXG5jb25zdCBzZXRXaWR0aE9mRHJvcGRvd25VTCA9ICgpID0+IHtcbiAgaWYgKFZJRVdQT1JUX1dJRFRIID49IEJSRUFLUE9JTlRfV0lEVEgpIHtcbiAgICBsZXQgbWF4V2lkdGggPSAwO1xuICAgIGxldCAkZWxlbWVudDtcbiAgICBjb25zdCBuYXZJdGVtSW5Ecm9wZG93biA9ICQoXCIuaWctZnRzYy1kcm9wZG93bi1tZW51XCIpLmNoaWxkcmVuKCk7XG4gICAgbmF2SXRlbUluRHJvcGRvd24uZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAkZWxlbWVudCA9ICQodGhpcyk7XG4gICAgICBpZiAoJGVsZW1lbnQud2lkdGgoKSA+IG1heFdpZHRoKSB7XG4gICAgICAgIG1heFdpZHRoID0gJGVsZW1lbnQub3V0ZXJXaWR0aCgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgICQoXCIuaWctZnRzYy1kcm9wZG93bi1tZW51XCIpLmNzcyhcIndpZHRoXCIsIGAke21heFdpZHRoICsgMjAwfXB4YCk7XG4gIH1cbn07XG5cbmNvbnN0IGNoYW5nZURyb3Bkb3duQ2xhc3Nlc09uV2luZG93UmVzaXplID0gKCkgPT4ge1xuJCh3aW5kb3cpLm9uKFwicmVzaXplXCIsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInJlc2l6aW5nXCIpXG4gICAgJChcIi5pZy1mdHNjLWRyb3Bkb3duXCIpLm9mZihcIm1vdXNlZW50ZXJcIiwgYWN0aW9uT25Nb3VzZUluKVxuICAgICQoXCIuaWctZnRzYy1kcm9wZG93blwiKS5vZmYoXCJtb3VzZWxlYXZlXCIsIGFjdGlvbk9uTW91c2VMZWF2ZSk7XG4gIFxuICAgICQoXCIuaWctZnRzYy1kcm9wZG93blwiKS5vZmYoXCJmb2N1c2luXCIsIGFjdGlvbk9uRm9jdXNJbik7XG4gICAgJChcIi5pZy1mdHNjLWRyb3Bkb3duXCIpLm9mZihcImZvY3Vzb3V0XCIsIGFjdGlvbk9uRm9jdXNPdXQpO1xuICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoIDwgQlJFQUtQT0lOVF9XSURUSCkge1xuICAgICAgICBkcm9wZG93bkljb25CZWhhdmlvdXJPbkZvY3VzKClcbiAgICB9IGVsc2Uge1xuICAgICAgICBkcm9wZG93bkljb25CZWhhdmlvdXJPbkhvdmVyKClcbiAgICB9XG59KVxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gZXZlbnQgbGlzdGVuZXJzIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmNvbnN0IGFjdGlvbk9uRm9jdXNJbiA9ICgpID0+IHtcbiAgICBpZiAoISQoXCIuaWctZnRzYy1kcm9wZG93bi1tZW51XCIpLmhhc0NsYXNzKFwiaWctZnRzYy1kcm9wZG93bl9fb3Blbi1vblwiKSkge1xuICAgICAgICAkKFwiLmlnLWZ0c2MtZHJvcGRvd24tbWVudVwiKS5hZGRDbGFzcyhcbiAgICAgICAgICBcImlnLWZ0c2MtZHJvcGRvd25fX29wZW4tb24gaWctZnRzYy1kcm9wZG93bl9fb3Blbi1vbi0tY2xpY2tcIlxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKSkge1xuICAgICAgICAkKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25cIikucmVtb3ZlQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5pZy1kcm9wZG93bi1hcnJvdy1pY29uXCIpLmFkZENsYXNzKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKTtcbiAgICAgIH1cbn1cblxuXG5jb25zdCBhY3Rpb25PbkZvY3VzT3V0ID0gKCkgPT4ge1xuICAgIGlmICgkKFwiLmlnLWZ0c2MtZHJvcGRvd24tbWVudVwiKS5oYXNDbGFzcyhcImlnLWZ0c2MtZHJvcGRvd25fX29wZW4tb25cIikpIHtcbiAgICAgICAgJChcIi5pZy1mdHNjLWRyb3Bkb3duLW1lbnVcIikucmVtb3ZlQ2xhc3MoXG4gICAgICAgICAgXCJpZy1mdHNjLWRyb3Bkb3duX19vcGVuLW9uIGlnLWZ0c2MtZHJvcGRvd25fX29wZW4tb24tLWNsaWNrXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgXG4gICAgICBpZiAoJChcIi5pZy1kcm9wZG93bi1hcnJvdy1pY29uXCIpLmhhc0NsYXNzKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKSkge1xuICAgICAgICAkKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25cIikucmVtb3ZlQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpO1xuICAgICAgfVxufVxuXG5jb25zdCBhY3Rpb25Pbk1vdXNlSW4gPSAoKSA9PiB7XG4gICAgICAgXG4gICAgJChcIi5pZy1kcm9wZG93bi1hcnJvdy1pY29uXCIpLmFkZENsYXNzKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKTtcbiAgICAkKFwiLmlnLWZ0c2MtZHJvcGRvd24tbWVudVwiKS5hZGRDbGFzcyhcbiAgICAgIFwiaWctZnRzYy1kcm9wZG93bl9fb3Blbi1vbiBpZy1mdHNjLWRyb3Bkb3duX19vcGVuLW9uLS1ob3ZlclwiXG4gICAgKTtcbn1cblxuY29uc3QgYWN0aW9uT25Nb3VzZUxlYXZlID0gKCkgPT4ge1xuJChcIi5pZy1kcm9wZG93bi1hcnJvdy1pY29uXCIpLnJlbW92ZUNsYXNzKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKTtcbiQoXCIuaWctZnRzYy1kcm9wZG93bi1tZW51XCIpLnJlbW92ZUNsYXNzKFxuICBcImlnLWZ0c2MtZHJvcGRvd25fX29wZW4tb24gaWctZnRzYy1kcm9wZG93bl9fb3Blbi1vbi0taG92ZXJcIlxuKTtcbn0iLCJpbXBvcnQgKiBhcyAkIGZyb20gXCJqcXVlcnlcIjtcblxuY29uc3QgQlJFQUtQT0lOVF9XSURUSCA9IDk5MjtcbmxldCBWSUVXUE9SVF9XSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG5leHBvcnQgY29uc3QgbmF2YmFyVG9wVG9Cb3R0b21Db2xsYXBzZSA9ICgpID0+IHtcbiAgaWYgKFxuICAgICQoXCIudHRiYy1tZW51LWl0ZW0taGFzLWNoaWxkcmVuXCIpLmxlbmd0aCA+IDAgfHxcbiAgICAkKFwiLmlnLXR0YmMtZHJvcGRvd25cIikubGVuZ3RoID4gMFxuICApIHtcbiAgICBwcmV2ZW50RGVmYXVsdE9uRHJvcGRvd25CdG4oKTtcbiAgfVxuXG4gIHRvZ2dsZU5hdk9wZW5DbGFzcygpO1xuXG4gIGlmICgkKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25fX2NvbnRhaW5lci0tanNcIikubGVuZ3RoID4gMCkge1xuICAgIGlmIChWSUVXUE9SVF9XSURUSCA+PSBCUkVBS1BPSU5UX1dJRFRIKSB7XG4gICAgICBkcm9wZG93bkljb25CZWhhdmlvdXJPbkhvdmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyb3Bkb3duSWNvbkJlaGF2aW91ck9uRm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoJChcIi5pZy10dGJjLWRyb3Bkb3duLW1lbnVcIikubGVuZ3RoID4gMCkge1xuICAgIHNldFdpZHRoT2ZEcm9wZG93blVMKCk7XG4gICAgY2hhbmdlRHJvcGRvd25DbGFzc2VzT25XaW5kb3dSZXNpemUoKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VOYXZiYXJUb2dnbGVyQWNjZXNzaWJsZXR0YmNDb2xsYXBzZSA9ICgpID0+IHtcbiAgaWYgKCQoXCIjdHRiYy1uYXZiYXItdG9nZ2xlci1qc1wiKS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIG1lbnVUb2dnbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3R0YmMtbmF2YmFyLXRvZ2dsZXItanNcIik7XG4gICAgdmFyIGVudGVyS2V5Q29kZSA9IDEzO1xuICAgIHZhciBzcGFjZUtleUNvZGUgPSAzMjtcblxuICAgIG1lbnVUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gZW50ZXJLZXlDb2RlIHx8IGV2ZW50LmtleUNvZGUgPT0gc3BhY2VLZXlDb2RlKSB7XG4gICAgICAgIGlmICgkKFwiI3R0YmMtbmF2YmFyLXRvZ2dsZXItanNcIikuaGFzQ2xhc3MoXCJpZy10dGJjLW5hdi1pcy1hY3RpdmVcIikpIHtcbiAgICAgICAgICAkKFwiI3R0YmMtbmF2YmFyLXRvZ2dsZXItanNcIikucmVtb3ZlQ2xhc3MoXCJpZy10dGJjLW5hdi1pcy1hY3RpdmVcIik7XG4gICAgICAgICAgJChcIiN0dGJjLW1haW4tbmF2LW92ZXJsYXlcIikucmVtb3ZlQ2xhc3MoXCJ0dGJjLW5hdi1pcy1vcGVuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIjdHRiYy1uYXZiYXItdG9nZ2xlci1qc1wiKS5hZGRDbGFzcyhcImlnLXR0YmMtbmF2LWlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAkKFwiI3R0YmMtbWFpbi1uYXYtb3ZlcmxheVwiKS5hZGRDbGFzcyhcInR0YmMtbmF2LWlzLW9wZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuLy8gRnVuY3Rpb25zXG5cbmNvbnN0IHByZXZlbnREZWZhdWx0T25Ecm9wZG93bkJ0biA9ICgpID0+IHtcbiAgJChcIi50dGJjLW1lbnUtaXRlbS1oYXMtY2hpbGRyZW5cIikuYXR0cihcImFyaWEtaGFzcG9wdXBcIiwgXCJ0cnVlXCIpO1xuICAkKFwiLmlnLXR0YmMtZHJvcGRvd24tdG9nZ2xlXCIpLm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0pO1xufTtcblxuY29uc3QgdG9nZ2xlTmF2T3BlbkNsYXNzID0gKCkgPT4ge1xuICAkKFwiI3R0YmMtbmF2YmFyLXRvZ2dsZXItanNcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcyhcImlnLXR0YmMtbmF2LWlzLWFjdGl2ZVwiKTtcbiAgICAkKFwiI3R0YmMtbWFpbi1uYXYtb3ZlcmxheVwiKS50b2dnbGVDbGFzcyhcInR0YmMtbmF2LWlzLW9wZW5cIik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAkKFwiLmlnLXR0YmMtbWFpbi1uYXYtb3ZlcmxheVwiKS50b2dnbGVDbGFzcyhcIm92ZXJmbG93WS1zY3JvbGxcIik7XG4gICAgfSwgMzUwKTtcbiAgfSk7XG59O1xuXG4vLyBkcm9wZG93biBpY29uIGJlaGF2aW91clxuXG5cblxuY29uc3QgZHJvcGRvd25JY29uQmVoYXZpb3VyT25Ib3ZlciA9ICgpID0+IHtcblxuIFxuXG4gICQoXCIuaWctdHRiYy1kcm9wZG93blwiKS5vbihcIm1vdXNlZW50ZXJcIiwgYWN0aW9uT25Nb3VzZUluKVxuICAkKFwiLmlnLXR0YmMtZHJvcGRvd25cIikub24oXCJtb3VzZWxlYXZlXCIsIGFjdGlvbk9uTW91c2VMZWF2ZSk7XG59O1xuXG5cblxuXG5jb25zdCBkcm9wZG93bkljb25CZWhhdmlvdXJPbkZvY3VzID0gKCkgPT4ge1xuXG5cbiAgJChcIi5pZy10dGJjLWRyb3Bkb3duXCIpLm9uKFwiZm9jdXNpblwiLCBhY3Rpb25PbkZvY3VzSW4pO1xuICAkKFwiLmlnLXR0YmMtZHJvcGRvd25cIikub24oXCJmb2N1c291dFwiLCBhY3Rpb25PbkZvY3VzT3V0KTtcbn07XG5cbmNvbnN0IHNldFdpZHRoT2ZEcm9wZG93blVMID0gKCkgPT4ge1xuICBpZiAoVklFV1BPUlRfV0lEVEggPj0gQlJFQUtQT0lOVF9XSURUSCkge1xuICAgIGxldCBtYXhXaWR0aCA9IDA7XG4gICAgbGV0ICRlbGVtZW50O1xuICAgIGNvbnN0IG5hdkl0ZW1JbkRyb3Bkb3duID0gJChcIi5pZy10dGJjLWRyb3Bkb3duLW1lbnVcIikuY2hpbGRyZW4oKTtcbiAgICBuYXZJdGVtSW5Ecm9wZG93bi5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICRlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgIGlmICgkZWxlbWVudC53aWR0aCgpID4gbWF4V2lkdGgpIHtcbiAgICAgICAgbWF4V2lkdGggPSAkZWxlbWVudC5vdXRlcldpZHRoKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgJChcIi5pZy10dGJjLWRyb3Bkb3duLW1lbnVcIikuY3NzKFwid2lkdGhcIiwgYCR7bWF4V2lkdGggKyAyMDB9cHhgKTtcbiAgfVxufTtcblxuY29uc3QgY2hhbmdlRHJvcGRvd25DbGFzc2VzT25XaW5kb3dSZXNpemUgPSAoKSA9PiB7XG4kKHdpbmRvdykub24oXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwicmVzaXppbmdcIilcbiAgICAkKFwiLmlnLXR0YmMtZHJvcGRvd25cIikub2ZmKFwibW91c2VlbnRlclwiLCBhY3Rpb25Pbk1vdXNlSW4pXG4gICAgJChcIi5pZy10dGJjLWRyb3Bkb3duXCIpLm9mZihcIm1vdXNlbGVhdmVcIiwgYWN0aW9uT25Nb3VzZUxlYXZlKTtcbiAgXG4gICAgJChcIi5pZy10dGJjLWRyb3Bkb3duXCIpLm9mZihcImZvY3VzaW5cIiwgYWN0aW9uT25Gb2N1c0luKTtcbiAgICAkKFwiLmlnLXR0YmMtZHJvcGRvd25cIikub2ZmKFwiZm9jdXNvdXRcIiwgYWN0aW9uT25Gb2N1c091dCk7XG4gICAgaWYod2luZG93LmlubmVyV2lkdGggPCBCUkVBS1BPSU5UX1dJRFRIKSB7XG4gICAgICAgIGRyb3Bkb3duSWNvbkJlaGF2aW91ck9uRm9jdXMoKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRyb3Bkb3duSWNvbkJlaGF2aW91ck9uSG92ZXIoKVxuICAgIH1cbn0pXG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBldmVudCBsaXN0ZW5lcnMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuY29uc3QgYWN0aW9uT25Gb2N1c0luID0gKCkgPT4ge1xuICAgIGlmICghJChcIi5pZy10dGJjLWRyb3Bkb3duLW1lbnVcIikuaGFzQ2xhc3MoXCJpZy10dGJjLWRyb3Bkb3duX19vcGVuLW9uXCIpKSB7XG4gICAgICAgICQoXCIuaWctdHRiYy1kcm9wZG93bi1tZW51XCIpLmFkZENsYXNzKFxuICAgICAgICAgIFwiaWctdHRiYy1kcm9wZG93bl9fb3Blbi1vbiBpZy10dGJjLWRyb3Bkb3duX19vcGVuLW9uLS1jbGlja1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gIFxuICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpKSB7XG4gICAgICAgICQoXCIuaWctZHJvcGRvd24tYXJyb3ctaWNvblwiKS5yZW1vdmVDbGFzcyhcImlnLWRyb3Bkb3duLWFycm93LWljb25fX29wZW5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25cIikuYWRkQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpO1xuICAgICAgfVxufVxuXG5cbmNvbnN0IGFjdGlvbk9uRm9jdXNPdXQgPSAoKSA9PiB7XG4gICAgaWYgKCQoXCIuaWctdHRiYy1kcm9wZG93bi1tZW51XCIpLmhhc0NsYXNzKFwiaWctdHRiYy1kcm9wZG93bl9fb3Blbi1vblwiKSkge1xuICAgICAgICAkKFwiLmlnLXR0YmMtZHJvcGRvd24tbWVudVwiKS5yZW1vdmVDbGFzcyhcbiAgICAgICAgICBcImlnLXR0YmMtZHJvcGRvd25fX29wZW4tb24gaWctdHRiYy1kcm9wZG93bl9fb3Blbi1vbi0tY2xpY2tcIlxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIGlmICgkKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25cIikuaGFzQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpKSB7XG4gICAgICAgICQoXCIuaWctZHJvcGRvd24tYXJyb3ctaWNvblwiKS5yZW1vdmVDbGFzcyhcImlnLWRyb3Bkb3duLWFycm93LWljb25fX29wZW5cIik7XG4gICAgICB9XG59XG5cbmNvbnN0IGFjdGlvbk9uTW91c2VJbiA9ICgpID0+IHtcbiAgICAgICBcbiAgICAkKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25cIikuYWRkQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpO1xuICAgICQoXCIuaWctdHRiYy1kcm9wZG93bi1tZW51XCIpLmFkZENsYXNzKFxuICAgICAgXCJpZy10dGJjLWRyb3Bkb3duX19vcGVuLW9uIGlnLXR0YmMtZHJvcGRvd25fX29wZW4tb24tLWhvdmVyXCJcbiAgICApO1xufVxuXG5jb25zdCBhY3Rpb25Pbk1vdXNlTGVhdmUgPSAoKSA9PiB7XG4kKFwiLmlnLWRyb3Bkb3duLWFycm93LWljb25cIikucmVtb3ZlQ2xhc3MoXCJpZy1kcm9wZG93bi1hcnJvdy1pY29uX19vcGVuXCIpO1xuJChcIi5pZy10dGJjLWRyb3Bkb3duLW1lbnVcIikucmVtb3ZlQ2xhc3MoXG4gIFwiaWctdHRiYy1kcm9wZG93bl9fb3Blbi1vbiBpZy10dGJjLWRyb3Bkb3duX19vcGVuLW9uLS1ob3ZlclwiXG4pO1xufSIsImltcG9ydCB7IGFuaW1hdGVBcnJvd0luRHJvcGRvZW5JdGVtIH0gZnJvbSBcIi4uLy4uL2dsb2JhbC9idXR0b25zL2Ryb3Bkb3duLWFycm93LWljb25cIjtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyT0ZUU05hdmJhckZ1bmN0aW9ucyA9IChuYXZOYW1lLCBicmVha3BvaW50LCBvdmVybGF5TmFtZSkgPT4ge1xuICBjb25zdCBEUk9QRE9XTl9NRU5VX0NPTlRBSU5FUiA9IGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWpzLXRyaWdnZXI9XCIke25hdk5hbWV9LWRyb3Bkb3duLWNvbnRhaW5lclwiXWApXG4gICAgLml0ZW0oMCk7XG5cbiAgaWYgKERST1BET1dOX01FTlVfQ09OVEFJTkVSICE9PSB1bmRlZmluZWQpIHtcbiAgICBwcmV2ZW50RGVmYXVsdE9uRHJvcGRvd24obmF2TmFtZSk7XG4gIH1cblxuICBhbmltYXRlSGFtYnVyZ2VyQnRuQW5kT3ZlcmxheShuYXZOYW1lLCBvdmVybGF5TmFtZSk7XG4gIG1ha2VPRlRTTmF2YmFyQWNjZXNzaWJsZSgpO1xuICBjb25zdCBidG5Ecm9wZG93bkluZGljYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWpzLXRyaWdnZXI9XCJidG4tZHJvcGRvd24taW5kaWNhdG9yXCJdYCkuaXRlbSgwKTtcbiAgaWYgKGJ0bkRyb3Bkb3duSW5kaWNhdG9yICE9PSB1bmRlZmluZWQgJiYgYnRuRHJvcGRvd25JbmRpY2F0b3IgIT09IG51bGwpIHtcbiAgXG4gICAgYW5pbWF0ZUFycm93SW5Ecm9wZG9lbkl0ZW0obmF2TmFtZSwgYnJlYWtwb2ludCk7XG4gIH1cbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vL0ZVTkNUSU9OUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmNvbnN0IHByZXZlbnREZWZhdWx0T25Ecm9wZG93biA9IChuYXZOYW1lKSA9PiB7XG4gIGNvbnN0IERST1BET1dOX01FTlVfQ09OVEFJTkVSID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cIiR7bmF2TmFtZX0tZHJvcGRvd24tY29udGFpbmVyXCJdYClcbiAgICAuaXRlbSgwKTtcbiAgY29uc3QgZHJvcGRvd25Ub2dnbGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cIiR7bmF2TmFtZX0tZHJvcGRvd24tdG9nZ2xlclwiXWApLml0ZW0oMCk7XG5cbiAgaWYgKERST1BET1dOX01FTlVfQ09OVEFJTkVSICE9PSB1bmRlZmluZWQgJiYgRFJPUERPV05fTUVOVV9DT05UQUlORVIgIT09IG51bGwpIHtcbiAgICBEUk9QRE9XTl9NRU5VX0NPTlRBSU5FUi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsIFwidHJ1ZVwiKTtcbiAgfVxuXG4gIGlmIChkcm9wZG93blRvZ2dsZXIgIT09IHVuZGVmaW5lZCAmJiBkcm9wZG93blRvZ2dsZXIgIT09IG51bGwpIHtcbiAgICBkcm9wZG93blRvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBhbmltYXRlSGFtYnVyZ2VyQnRuQW5kT3ZlcmxheSA9IChuYXZOYW1lLCBvdmVybGF5TmFtZSkgPT4ge1xuICBjb25zdCBidG5IYW1idXJnZXJHZW5lcmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cImJ0bi1oYW1idXJnZXItZ2VuZXJhbFwiXWApLml0ZW0oMCk7XG4gIGNvbnNvbGUubG9nKGJ0bkhhbWJ1cmdlckdlbmVyYWwpXG4gIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1qcy10cmlnZ2VyPVwib3ZlcmxheVwiXWApLml0ZW0oMCk7XG4gIGlmIChidG5IYW1idXJnZXJHZW5lcmFsICE9PSB1bmRlZmluZWQgJiYgYnRuSGFtYnVyZ2VyR2VuZXJhbCAhPT0gbnVsbCkge1xuICAgIGJ0bkhhbWJ1cmdlckdlbmVyYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGJ0bkhhbWJ1cmdlckdlbmVyYWwuY2xhc3NMaXN0LnRvZ2dsZShcImJ0bi1oYW1idXJnZXJfX2dlbmVyYWwtLWFjdGl2ZVwiKTtcbiAgICAgIGlmIChvdmVybGF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKGBvdmVybGF5X18ke292ZXJsYXlOYW1lfSR7bmF2TmFtZSA9PT0gXCJvZnRzY1wiID8gXCItLW9uLWJyZWFrcG9pbnRcIiA6IFwiXCJ9LS1vcGVuYCk7XG4gICAgICAgIGNvbnN0IGRyb3Bkb3duVG9nZ2xlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWpzLXRyaWdnZXI9XCIke25hdk5hbWV9LW5hdl9fY29udGFpbmVyXCJdYCkuaXRlbSgwKTtcbiAgICAgICAgaWYgKCFkcm9wZG93blRvZ2dsZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaWctb1lhXCIpKSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkcm9wZG93blRvZ2dsZXIuY2xhc3NMaXN0LmFkZChcImlnLW9ZYVwiKTtcbiAgICAgICAgICB9LCAzMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRyb3Bkb3duVG9nZ2xlci5jbGFzc0xpc3QucmVtb3ZlKFwiaWctb1lhXCIpO1xuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VPRlRTTmF2YmFyQWNjZXNzaWJsZSA9ICgpID0+IHtcbiAgY29uc3QgYnRuSGFtYnVyZ2VyR2VuZXJhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLWpzLXRyaWdnZXI9XCJidG4taGFtYnVyZ2VyLWdlbmVyYWxcIl1gKS5pdGVtKDApO1xuICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cIm92ZXJsYXlcIl1gKS5pdGVtKDApO1xuXG4gIGlmIChidG5IYW1idXJnZXJHZW5lcmFsICE9PSB1bmRlZmluZWQgJiYgYnRuSGFtYnVyZ2VyR2VuZXJhbCAhPT0gbnVsbCkge1xuICAgIHZhciBlbnRlcktleUNvZGUgPSAxMztcbiAgICB2YXIgc3BhY2VLZXlDb2RlID0gMzI7XG5cbiAgICBidG5IYW1idXJnZXJHZW5lcmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGVudGVyS2V5Q29kZSB8fCBldmVudC5rZXlDb2RlID09IHNwYWNlS2V5Q29kZSkge1xuICAgICAgICBpZiAoYnRuSGFtYnVyZ2VyR2VuZXJhbC5jbGFzc0xpc3QuY29udGFpbnMoXCJidG4taGFtYnVyZ2VyX19nZW5lcmFsLS1hY3RpdmVcIikpIHtcbiAgICAgICAgICBidG5IYW1idXJnZXJHZW5lcmFsLmNsYXNzTGlzdC5yZW1vdmUoXCJidG4taGFtYnVyZ2VyX19nZW5lcmFsLS1hY3RpdmVcIik7XG4gICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwib3ZlcmxheV9fc2xpZGluZy1mcm9tLXR3by1zaWRlcy0tb3BlblwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidG5IYW1idXJnZXJHZW5lcmFsLmNsYXNzTGlzdC5hZGQoXCJidG4taGFtYnVyZ2VyX19nZW5lcmFsLS1hY3RpdmVcIik7XG4gICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheV9fc2xpZGluZy1mcm9tLXR3by1zaWRlcy0tb3BlblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4iLCJcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcblxuZXhwb3J0IGNvbnN0IGNvbXBvbmVudEFuaW1hdGVkQXJyb3dEcm9wZG93biA9ICgpID0+IHtcbiAgICBpZigkKCBcIi5pZy1kcm9wZG93bi1hcnJvdy1pY29uXCIgKS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgJCggXCIuaWctZHJvcGRvd24tYXJyb3ctaWNvblwiICkub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKFwiaWctZHJvcGRvd24tYXJyb3ctaWNvbl9fb3BlblwiKTtcbiAgICAgICAgICB9KTtcblxuICAgIH1cblxufVxuXG4iLCJleHBvcnQgY29uc3QgYW5pbWF0ZUhhbWJ1cmdlckJ0bkFycm93QW5kUmluZyA9IChvcGVuTmF2PWZhbHNlKSA9PiB7XG4gICAgY29uc3QgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtanMtdHJpZ2dlcj1cImJ0bi1oYW1idXJnZXItYXJyb3ctYW5kLXJpbmdcIl1gKS5pdGVtKDApO1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIikuaXRlbSgwKTtcbiAgICBpZihidG4gIT09IHVuZGVmaW5lZCAmJiBidG4gIT09IG51bGwpIHtcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdidG4tYXJyb3ctYW5kLXJpbmctLWFjdGl2ZScpO1xuICAgICAgICAgICAgaWYob3Blbk5hdiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUob3Blbk5hdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHt3ZWJDb25zdHJ1Y3Rvcn0gZnJvbSAnLi9jb21wb25lbnRzL3dlYi1jb25zdHJ1Y3Rvci93ZWItY29uc3RydWN0b3InO1xuaW1wb3J0IHsgcmVnaXN0ZXJCdXR0b25zIH0gZnJvbSAnLi9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9ucyc7XG5cblxuXG5pbXBvcnQge2FuaW1hdGVIYW1idXJnZXJCdG5BcnJvd0FuZFJpbmd9IGZyb20gJy4uLy4uL3dwLWlnLWNvbXBvbmVudHMvanMvZ2xvYmFsL2J1dHRvbnMvYnRuLWhhbWJ1cmdlcl9fYXJyb3ctYW5kLXJpbmcnO1xuXG5cblxud2ViQ29uc3RydWN0b3IoKTtcbnJlZ2lzdGVyQnV0dG9ucygpO1xuXG5hbmltYXRlSGFtYnVyZ2VyQnRuQXJyb3dBbmRSaW5nKCdpZy1mc3BuYy1uYXYtaXMtb3BlbicpO1xuXG5cblxuLy8gZnJvbSBwYWNrYWdlXG5cbmltcG9ydCB7cmVnaXN0ZXJPRlRTTmF2YmFyRnVuY3Rpb25zfSBmcm9tICcuLi8uLi93cC1pZy1jb21wb25lbnRzL2pzL25hdmJhcnMvbmF2LXYyLW9mdHMvb2Z0cy1hbGwnO1xuXG5cbnJlZ2lzdGVyT0ZUU05hdmJhckZ1bmN0aW9ucygnb2Z0cycsIDc2NywgJ3NsaWRpbmctZnJvbS10b3AtdG8tYm90dG9tJyk7XG5cblxuaW1wb3J0ICB7cmVnaXN0ZXJCdXR0b25IYW1idXJnZXJNaWRkbGVQYXR0eVNsaWRpbmdPZmYgfSBmcm9tICcuLi8uLi93cC1pZy1jb21wb25lbnRzL2pzL2dsb2JhbC9idXR0b25zL2J0bi1oYW1idXJnZXJfX21pZGRsZS1wYXR0eS1zbGlkaW5nLW9mZidcblxucmVnaXN0ZXJCdXR0b25IYW1idXJnZXJNaWRkbGVQYXR0eVNsaWRpbmdPZmYoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=